<mujoco model="gyroscopic_rotor">
  <compiler angle="degree"/>
  <option gravity="0 0 -9.81" timestep="0.001" integrator="RK4"/>

  <asset>
    <texture
      name="grid_tex"
      type="2d"
      builtin="checker"
      rgb1="0.86 0.86 0.86"
      rgb2="0.72 0.72 0.72"
      width="512"
      height="512"
      mark="cross"
      markrgb="0.95 0.95 0.95"
    />
    <material name="grid_mat" texture="grid_tex" texrepeat="8 8" texuniform="true"/>
    <material name="metal" rgba="0.72 0.72 0.74 1"/>
  </asset>

  <worldbody>
    <light pos="1.5 -1.5 2.0" dir="-1 1 -1" diffuse="0.9 0.9 0.9"/>

    <geom
      name="floor"
      type="plane"
      size="3 3 0.1"
      material="grid_mat"
      friction="1.2 0.02 0.002"
    />
    <geom name="x_ref" type="capsule" fromto="-4.5 0 0.001 4.5 0 0.001" size="0.004" rgba="0.9 0.2 0.2 1"/>
    <geom name="y_ref" type="capsule" fromto="0 -4.5 0.001 0 4.5 0.001" size="0.004" rgba="0.2 0.6 0.9 1"/>

    <camera name="cam_oblique" pos="4.5 -3.6 2.55" xyaxes="0.62 0.78 0.00 -0.32 0.25 0.91"/>
    <camera name="cam_top" pos="0 0 7.8" xyaxes="1 0 0 0 1 0"/>

    <body name="rotor" pos="0 0 0">
      <freejoint name="free"/>

      <geom
        name="pivot_tip"
        type="sphere"
        pos="0 0 0"
        size="0.014"
        mass="0.02"
        friction="1.2 0.02 0.002"
        rgba="0.1 0.1 0.1 1"
      />
      <geom name="shaft" type="cylinder" pos="0 0 0.16" size="0.015 0.16" mass="0.14" material="metal"/>
      <geom name="rotor_disk" type="cylinder" pos="0 0 0.23" size="0.14 0.012" mass="0.28" rgba="0.25 0.25 0.28 1"/>
      <geom name="axis_marker" type="capsule" fromto="0 0 0 0 0 0.42" size="0.004" mass="0.005" rgba="1.0 0.85 0.1 1"/>

      <geom name="stripe_x" type="capsule" fromto="-0.14 0 0.23 0.14 0 0.23" size="0.006" mass="0.01" rgba="0.95 0.2 0.2 1"/>
      <geom name="stripe_y" type="capsule" fromto="0 -0.14 0.23 0 0.14 0.23" size="0.006" mass="0.01" rgba="0.2 0.65 0.95 1"/>
      <geom name="stripe_d1" type="capsule" fromto="-0.10 -0.10 0.23 0.10 0.10 0.23" size="0.005" mass="0.008" rgba="0.95 0.95 0.95 1"/>
      <geom name="stripe_d2" type="capsule" fromto="-0.10 0.10 0.23 0.10 -0.10 0.23" size="0.005" mass="0.008" rgba="0.1 0.1 0.1 1"/>
    </body>
  </worldbody>
</mujoco>
